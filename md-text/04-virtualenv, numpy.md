# Зміст

${toc}

# pip

pip - це система управління пакетами, яка використовується для установки і управління програмними пакетами, написаними на Python.

Якщо Ви устанавлювали Python із офіційного сайту, pip вже приустній у системі. Для перевірки достатньо виконати команду:

```bash
pip -V
```

![](../resources/img/4/1.png)

## Встановлення пакетів глобально

Пакети можна знайти на [pypi](https://pypi.org/)

Щоб встановити пакет, потрібно скористатися командою pip install:

```bash
pip install [packagename]
```

Або встановити конкретну версію пакету:

```bash
pip install [packagename==version]
```

Для оновлення вже існуючого пакету можна скористатися командою:

```bash
pip install --upgrade [packagename]
```

> Всі пакети будуть встановлені глобально і будуть доступні всюди. Директорія, де зберігаються пакети різна взалежності від операційної системи, наприклад, для linux - 

Наприклад установимо пакет numpy:

```bash
pip install numpy
```

![](../resources/img/4/2.png)

> Встановлючи пакети глобально, можливо доведеться мати права адміністратора. Для Windows відкрити термінал від імені адміністратора. Для Linux, Mac використати команду sudo.

Щоб використати пакет достатньо його імпортувати:

```py
import numpy
```

Щоб видалити пакет потрібно виконати команду:

```bash
pip uninstall [packagename]
```

![](../resources/img/4/3.png)

# virtualenv

Головне завдання віртуального середовища Python - створення ізольованого середовища для проектів Python. Це означає, що кожен проект може мати свої власні залежності, незалежно від того, які залежності у іншого проекту.

Перед тим, як почати: якщо ви не користуєтеся Python 3, вам потрібно буде встановити інструмент virtualenv за допомогою pip:

```bash
pip install virtualenv
```

Якщо ви використовуєте Python 3, у вас вже повинен бути модуль venv, встановлений в стандартній бібліотеці. Між інструментами venv і virtualenv є відмінності у командах. Надалі ми будемо розглядати інтсрумент virtualenv.

Щоб створити віртуальне оточення потрібно виконати команду:

```bash
virtualenv [env_name]
```

```bash
virtualenv venv
```

![](../resources/img/4/4.png)

В наведеному вище прикладі, ця команда створює каталог під назвою «venv», структура каталогу якого схожа з наступною:

```
├── bin
│   ├── activate
│   ├── activate.csh
│   ├── activate.fish
│   ├── easy_install
│   ├── easy_install-3.7
│   ├── pip
│   ├── pip3
│   ├── pip3.7
│   ├── python -> python3.7
│   ├── python3 -> python3.7
│   └── python3.7 -> /Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7
├── include
├── lib
│   └── python3.7
│       └── site-packages
└── pyvenv.cfg
```

- bin - файли, які взаємодіють з віртуальним середовищем;
- include - С-заголовки, які компілюють пакети Python;
- lib - копія версії Python разом з папкою «site-packages», в якій встановлена кожна залежність.

Щоб використовувати ці пакети (або ресурси) середовища в ізоляції, вам потрібно «активувати» їх. Приклад нище показаний для використання Windows 10 і PowerShell.

Якщо до цього Ви ніколи не використовували virtualenv, Вам потрібно відкрити PowerShell від імені адміністратора і ввести наступні команди:

```bash
Set-ExecutionPolicy AllSigned
Set-ExecutionPolicy RemoteSigned
```

Далі із кореня проекту виконати наступну команду:

```bash
.\['name_of_env']\Scripts\activate
```

В результаті в терміналі перед робочою директорією повинно з'явитися ім'я ізольованого оточення.

![](../resources/img/4/5.png)

Відтепер всі команди python і pip будуть відноситися до ізольованого середовища(доки ми не деактивуємо, закриємо процес термінала).

![](../resources/img/4/6.png)

Тепер ми можемо встановити пакет в ізольоване середовище знайомою нам командою:

```bash
pip install numpy
```

![](../resources/img/4/7.png)

Якщо ми не хочемо більше працювати із ізольованим середовищем його можна деактивувати виконавши команду:

```bash
deactivate
```

![](../resources/img/4/8.png)


## Збереження списку залежностей

Директорія ізольованого середовища не повина зберігатися на системі контролю версій. Із вищенаведеного прикладу gitignore виглядав би так:

```
venv
_pycache__/
*.py[cod]
*$py.class
```

Зрозуміло, що коли інша людина склонує проект в неї не буде необхідних пакетів. Щоб цього уникнути можна використати requirement.txt. Всі пакети разом із їх версіми можна записати в txt - файл і в майбутньому установити пакети опираючись на вміст requirements.txt.

Щоб створити requirements.txt базуючись на ізольованому середовищі потрібно:

1. Пересвідчитися, що ізольоване середовище активоване
2. Виконати команду ``` pip freeze > requirements.txt ```

Файл requirements.txt слід комітити на репозиторій.

Щоб встановити всі залежності із requirements.txt потрібно виконати команду(в активному ізольованому середовищі):

```bash
pip install -r requirements.txt
```

# numpy

Numpy - це основна бібліотека наукових обчислень на Python. Вона забезпечує високоефективні багатовимірні масиви та інструменти для роботи з цими масивами.

Якщо ви збираєтеся працювати над аналізом даних або машинним навчанням, то розуміння numpy майже обов'язкове.

## Створення numpy array

Існує кілька способів створити numpy масив. Однак один з найпоширеніших способів - створити його зі списку або списку, або подібної структури, передавши її в функцію np.array:

```py
import numpy as np

list1 = [0,1,2,3,4]
arr1d = np.array(list1)

print(type(arr1d))
print(arr1d)
```

![](../resources/img/4/9.png)

Ключова різниця між масивом і списком полягає в тому, що масиви призначені для обробки векторизованих операцій, тоді як список python - ні.

Це означає, що якщо ви застосуєте функцію, вона виконується на кожному елементі масиву, а не на всьому об'єкті масиву.

Припустимо, ви хочете додати число 2 до кожного елемента у списку. Інтуїтивно зрозумілий спосіб зробити це приблизно так:

```py
list1 + 2  # error
```

Це було неможливо зі списком. Але ви можете це зробити із ndarray.

```py
import numpy as np

list1 = [0,1,2,3,4]
arr1d = np.array(list1)
print(arr1d + 2)
```

![](../resources/img/4/10.png)

Ще одна відмінність полягає в тому, що після створення масиву numpy ви не можете збільшити його розмір. Для цього вам доведеться створити новий масив. Але така поведінка збільшення розміру є природною у списку python.

Ви також можете передати список списків, щоб створити матрицю, як 2d масив.

```py
import numpy as np

list2 = [[0,1,2], [3,4,5], [6,7,8]]
arr2d = np.array(list2)
print(arr2d)
```

![](../resources/img/4/11.png)

Ви також можете вказати тип даних, встановивши аргумент dtype. Деякі найпоширеніші типи numpy: 'float', 'int', 'bool', 'str' та 'object'.

Для управління розподілом пам’яті ви можете використовувати один із „float32”, „float64”, „int8”, „int16” або „int32”.

```py
import numpy as np

arr1d_f = np.array([1,6,88], dtype='float')
print(arr1d_f)
```

![](../resources/img/4/12.png)

Десяткова крапка після кожного числа вказує на тип даних float. Ви також можете конвертувати його в інший тип даних, використовуючи метод astype.

```py
import numpy as np

arr1d_f = np.array([1,6,88], dtype='float')
print(arr1d_f.astype('int'))
print(arr1d_f.astype('int').astype('str'))
```

![](../resources/img/4/13.png)

У масиві numpy повинні бути всі елементи одного типу даних, на відміну від списків. Це ще одна істотна відмінність.

Однак, якщо ви не впевнені, який тип даних буде містити ваш масив, або якщо ви хочете містити символи та цифри в одному масиві, ви можете встановити dtype як "object".

```py
import numpy as np

arr1d_b = np.array([0, 1, 10], dtype='bool')
print(arr1d_b)

arr2d_o = np.array(['1', 1.1, 5], dtype='object')
print(arr2d_o)

arr2d_s = np.array(['1', 1], dtype='str')
print(arr2d_s)
```

![](../resources/img/4/14.png)

Нарешті, ви завжди можете перетворити масив назад у список python, використовуючи tolist ().

```py
import numpy as np

arr1d_b = np.array([0, 1, 10], dtype='bool')
l = arr1d_b.tolist()
print(type(l))
print(l)
```

Підсумовуючи, основні відмінності numpy масивів зі списками python:

1. Масиви підтримують векторизовані операції, а списки - ні.
2. Після створення масиву ви не можете змінити його розмір. Вам доведеться створити новий масив або перезаписати існуючий.
3. Кожен масив має один і лише один тип. Усі елементи в ньому повинні бути такого типу.
4. Еквівалентний масив numpy займає набагато менше місця, ніж список списків у python.

## Розмір і форма масивів

Ось деякі властивості, які можна дізнатися про масиви:

- Чи масив одно, двох, трьох і тд. вимірний
- Скільки елементів міститься у кожному вимірі (формі)
- Який тип масиву
- Яка загальна кількість елементів

```py
import numpy as np

arr = np.array([
  [3,2,1],[4,8,9],[9,4,5]
  ])

# ndim 1d, 2d, 3d or so...
print(arr.ndim)

# howe many items in each dementions
print(arr.shape)

# what data type
print(arr.dtype)

# total items
print(arr.size)
```

![](../resources/img/4/15.png)

## Отримання елементів

Ви можете отримати конкретні елементи з масиву, використовуючи індексацію, починаючи з 0, щось подібне до того, як ви робите зі списками python.

Але на відміну від списків, nummy масиви необов'язково можуть приймати стільки параметрів у квадратних дужках, скільки є вимірів.

```py
import numpy as np

arr1 = np.array([1,5,6])
arr2 = np.array([
  [2,5,6],
  [6,7,8]
])

print(arr1[0])
print(arr2[0, 0])
```

## Невизначенні значення і безкінечність

Відсутні значення можуть бути представлені за допомогою np.nan об'єкта, тоді як np.inf являє собою нескінченність.

```py
import numpy as np

arr2 = np.array([
  [2,5,6],
  [6,7,8]
], dtype='float')

arr2[0,0] = np.nan
arr2[0,1] = np.inf

print(arr2)

missing_bool = np.isnan(arr2) | np.isinf(arr2)
arr2[missing_bool] = -1  

print(arr2)
```

![](../resources/img/4/16.png)

## Мінімальне, максимальне, середнє


# Домашнє завдання

# Контрольні запитання